<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let gamesWon = 0;
        let gamesLost = 0;
        let gamesPlayed = 0;
        let win = false;

        while (win === false) {
            let playerSelection = prompt("Please select one of the following: 'Rock', 'Paper', 'Scissors', 'Lizard', or 'Spock'");
            if (playerSelection.toLowerCase() === "") {
                alert("Please enter a valid selection");
            } else if (playerSelection.toLowerCase() === "q") {
                alert("Sorry to see you go. Refresh to play again!")
                break;
            }

            let oppSelection = Math.floor(Math.random() * 100) + 1;
            if (oppSelection >= 80) {
                oppSelection = "rock";
            } else if (oppSelection >= 60) {
                oppSelection = "paper"
            } else if (oppSelection >= 40) {
                oppSelection = "scissors"
            } else if (oppSelection >= 20) {
                oppSelection = "lizard"
            } else {
                oppSelection = "spock"
            }

            if (playerSelection.toLowerCase() === oppSelection) {
                console.log(`You tied. Lets play again!`)
                gamesPlayed++;
            }

            if (playerSelection.toLowerCase() === "rock" && oppSelection === ("scissors" || "lizard")) {
                console.log(`You win, ${playerSelection} beats ${oppSelection}!`);
                gamesWon++;
                gamesPlayed++;
            } else if (playerSelection.toLowerCase() === "rock" && oppSelection === ("paper" || "spock")) {
                console.log(`You lose, ${oppSelection} beats ${playerSelection}!`);
                gamesLost++;
                gamesPlayed++;
            }

            if (playerSelection.toLowerCase() === "paper" && oppSelection === ("rock" || "spock")) {
                console.log(`You win, ${playerSelection} beats ${oppSelection}!`)
                gamesWon++;
                gamesPlayed++;
            } else if (playerSelection.toLowerCase() === "paper" && oppSelection === ("scissors" || "lizard")) {
                console.log(`You lose, ${oppSelection} beats ${playerSelection}!`);
                gamesLost++;
                gamesPlayed++;
            }

            if (playerSelection.toLowerCase() === "scissors" && oppSelection === ("paper" || "lizard")) {
                console.log(`You win, ${playerSelection} beats ${oppSelection}!`);
                gamesWon++;
                gamesPlayed++;
            } else if (playerSelection.toLowerCase() === "scissors" && oppSelection === ("rock" || "spock")) {
                console.log(`You lose, ${oppSelection} beats ${playerSelection}!`);
                gamesWon++;
                gamesPlayed++;
            }

            if (playerSelection.toLowerCase() === "lizard" && oppSelection === ("paper" || "spock")) {
                console.log(`You win, ${playerSelection} beats ${oppSelection}!`);
                gamesWon++;
                gamesPlayed++;
            } else if (playerSelection.toLowerCase() === "lizard" && oppSelection === ("scissors" || "rock")) {
                console.log(`You lose, ${oppSelection} beats ${playerSelection}!`);
                gamesLost++;
                gamesPlayed++;
            }

            if (playerSelection.toLowerCase() === "spock" && oppSelection === ("scissors" || "rock")) {
                console.log(`You win, ${playerSelection} beats ${oppSelection}!`);
                gamesWon++;
                gamesPlayed++;
            } else if (playerSelection.toLowerCase() === "spock" && oppSelection === ("paper" || "lizard")) {
                console.log(`You lose, ${oppSelection} beats ${playerSelection}!`);
                gamesLost++;
                gamesPlayed++;
            }

            if (gamesWon === 3) {
                win = true;
                console.log(`Congratulations, you won 3 games before your opponent! You played ${gamesPlayed} games total.`);
            }

            if (gamesLost === 3) {
                win = true;
                console.log(`Sorry, you lost 3 games before your opponent! You played ${gamesPlayed} games total.`);
            }
        }

    </script>
</body>

</html>